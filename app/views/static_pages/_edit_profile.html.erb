<!-- Hidden input telling rails to fake a PATCH request through a POST request -->
<input name="_method" type="hidden" value="patch"/>

<div class="col-md-12 panel">
  <%= form_for profile do |profile_fields| %>
  <div class="row">
    <div class="col-md-12">
      <h1 class="panel-header">Edit Profile</h1>
    </div>
  </div>
  <div class="row panel-content">
    <div class="col-md-5">
      <h2>Basic Information</h2>
      <table>
        <tr>
          <td>Birthday:</td>
          <td>
            <%= profile_fields.fields_for :birthday do |birthday_fields| %>
              <%= birthday_fields.fields_for :profile_date do |date_fields| %>
                <%= date_fields.label :month %><br>
                <%= date_fields.text_field :month %><br>
                <%= date_fields.label :day %><br>
                <%= date_fields.text_field :day %><br>
                <%= date_fields.label :year %><br>
                <%= date_fields.text_field :year %><br>
              <% end %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td>College:</td>
          <td><%= profile_fields.text_field :college, class: "form-control"%></td>
        </tr>
        <tr>
          <td>Hometown:</td>
          <td>
            <%= profile_fields.fields_for :hometown do |home_fields| %>
              <%= home_fields.fields_for :address do |address_fields| %>
                <%= address_fields.label :city %><br>
                <%= address_fields.collection_select(:city_id, cities, :id, :name) %><br>
                <%= address_fields.label :state %><br>
                <%= address_fields.collection_select(:state_id, states, :id, :name) %><br>
                <%= address_fields.label :country %><br>
                <%= address_fields.collection_select(:country_id, countries, :id, :name) %><br>              
              <% end %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td>Currently Lives:</td>
          <td>
            <%= profile_fields.fields_for :residence do |home_fields| %>
              <%= home_fields.fields_for :address do |address_fields| %>
                <%= address_fields.label :city %><br>
                <%= address_fields.collection_select(:city_id, cities, :id, :name) %><br>
                <%= address_fields.label :state %><br>
                <%= address_fields.collection_select(:state_id, states, :id, :name) %><br>
                <%= address_fields.label :country %><br>
                <%= address_fields.collection_select(:country_id, countries, :id, :name) %><br>              
              <% end %>
            <% end %>
          </td>
        </tr>
      </table>

      <h2>Contact Information</h2>
      <table>
        <tr>
          <td>Email address:</td>
          <td>harry_potter@hogwarts.edu</td>
        </tr>
        <tr>
          <td>Telephone:</td>
          <td><input type="text" placeholder="(408)772-HARRY" class="form-control"></td>
        </tr>
      </table>
    </div>
    <div class="col-md-7">
      <h2>Words to Live By</h2>
      <textarea id="words-live-textarea" type="text" class="form-control"></textarea>

      <h2>About Me</h2>
      <textarea id="about-me-textarea" type="text" class="form-control" rows="5"></textarea>
    </div>
  </div>
  <div class="row panel-footer">
    <div class="col-md-4 col-md-offset-4">
      <%= profile_fields.submit "Save Changes", class: "btn btn-primary btn-block" %>
    </div>
  </div>
  <% end %>
</div>